<div class="editor-container">
  <!-- Header section with title and actions -->
  <div class="editor-header">
    <div class="header-top">
      <button mat-icon-button (click)="goBack()" matTooltip="Close" class="close-button">
        <mat-icon>close</mat-icon>
      </button>
      <span class="header-label">{{ title }}</span>
    </div>
    
    <div class="header-content">
      <mat-form-field appearance="outline" class="title-field">
        <mat-label>Article title</mat-label>
        <input
          matInput
          placeholder="Enter article name"
          required
          [(ngModel)]="article.name"
        />
      </mat-form-field>
      
      <div class="header-actions">
        @if (!isEdit) {
          <button
            mat-stroked-button
            color="primary"
            (click)="openAIGenerator()"
            matTooltip="Get help writing your article"
            class="ai-button"
          >
            <mat-icon>auto_awesome</mat-icon>
            Help me write this article
          </button>
        }

        @if (isDev) {
          <button
            mat-icon-button
            matTooltip="Add article photo"
            (click)="addPhoto()"
          >
            <mat-icon>image</mat-icon>
          </button>
        }
        
        @if (article?.id) {
          <button mat-icon-button (click)="deleteArticle()" matTooltip="Delete article">
            <mat-icon>delete</mat-icon>
          </button>
        }
        
        <button
          mat-flat-button
          color="primary"
          (click)="submit()"
          [disabled]="!article.name || !article.content"
          class="save-button"
        >
          {{ submitButton }}
        </button>
      </div>
    </div>
  </div>

  <!-- Editor fills remaining space -->
  <div class="ngx-editor-wrapper">
    <ngx-editor-menu [editor]="editor" [toolbar]="toolbar"></ngx-editor-menu>
    <ngx-editor
      [editor]="editor"
      [(ngModel)]="article.content"
      [placeholder]="'Start writing your article content...'"
    ></ngx-editor>
  </div>

  @if (loading) {
    <div class="loading-overlay">
      <mat-spinner></mat-spinner>
    </div>
  }
</div>
