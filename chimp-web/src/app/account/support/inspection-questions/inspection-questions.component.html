<div class="full">
  <div class="side">
    <mat-form-field class="collection-field">
      <mat-label>Collection name</mat-label>
      <input matInput type="text" [(ngModel)]="collectionName" (blur)="getCollection()" />
    </mat-form-field>
    <div class="list">
      <div class="list-actions">
        <button mat-stroked-button (click)="createCategory()">Create New Category</button>
        @if (collectionSubject.id) {
          <button mat-button color="warn" (click)="deleteCategory()">Delete</button>
        }
      </div>
      @for (item of list(); track item.id) {
        <div class="list-item" [class.active]="item.id === collectionSubject.id" (click)="selectDoc(item)">
          {{ item.subject }} - {{ item.order }}
        </div>
      }
    </div>
  </div>

  <div class="side content-side">
    <mat-toolbar color="accent">
      <span class="toolbar-label">Name</span>
      <mat-form-field class="toolbar-field">
        <input matInput type="text" [(ngModel)]="collectionSubject.subject" (blur)="push()" />
      </mat-form-field>
      <span class="toolbar-label">Order</span>
      <mat-form-field class="toolbar-order">
        <input matInput type="number" step="1" [(ngModel)]="collectionSubject.order" (blur)="push()" />
      </mat-form-field>
    </mat-toolbar>

    <div class="scroll">
      <div class="questions-list">
        @for (question of collectionSubject.questions; track $index) {
          <div class="question-row">
            <mat-form-field class="fill">
              <input matInput type="text" placeholder="Question" [(ngModel)]="question.name" (blur)="push()" />
            </mat-form-field>
            <button mat-button color="warn" (click)="deleteQuestion(question)">Delete</button>
          </div>
        }
        <div class="question-row">
          <mat-form-field class="fill">
            <mat-label>New question</mat-label>
            <input matInput type="text" [(ngModel)]="newQuestion.name" />
          </mat-form-field>
          <button mat-flat-button color="primary" (click)="addQuestion()">Add</button>
        </div>
      </div>
    </div>
  </div>
</div>